{"version":3,"file":"static/js/634.d6e94cb2.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Films/Films.module.css?4147","components/Films/Films.jsx","components/Loader/Loader.jsx","webpack://react-homework-template/./src/pages/pages.module/Home.module.css?a7a7","pages/Home.jsx","service/themoviedb.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"film_title\":\"Films_film_title__ZvoLl\",\"text\":\"Films_text__IBU2d\",\"active\":\"Films_active__20HqF\"};","import { Link, useLocation } from 'react-router-dom';\nimport css from './Films.module.css';\nimport PropTypes from 'prop-types';\n\nexport const Films = ({ popularFilms }) => {\n  const location = useLocation();\n  console.log(location);\n\n  return (\n    <ul className={css.film_title}>\n      {popularFilms.map(({ id, title }) => {\n        return (\n          <Link\n            className={css.text}\n            to={`/movies/${id}`}\n            key={id}\n            id={id}\n            state={{ from: location }}\n          >\n            {title}\n          </Link>\n        );\n      })}\n    </ul>\n  );\n};\nFilms.propTypes = {\n  popularFilms: PropTypes.arrayOf(PropTypes.object.isRequired).isRequired,\n};\n","import { Circles } from 'react-loader-spinner';\n\nexport const Loader = () => {\n  return (\n    <Circles\n      height=\"80\"\n      width=\"80\"\n      color=\"#4fa94d\"\n      ariaLabel=\"circles-loading\"\n      wrapperStyle={{}}\n      wrapperClass=\"\"\n      visible={true}\n    />\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Home_wrapper__8aL-W\",\"title\":\"Home_title__7ydvq\"};","import { Films } from 'components/Films/Films';\nimport { Loader } from 'components/Loader/Loader';\nimport { useEffect, useState } from 'react';\nimport css from './pages.module/Home.module.css';\nimport { themoviedbApi } from 'service/themoviedb';\n\nconst Home = () => {\n  const [popularFilm, setpopularFilm] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    async function getPopularFilms() {\n      try {\n        setIsLoading(true);\n\n        const { results } = await themoviedbApi();\n\n        //Если нет пришедших данных-выходим\n        if (!results) return;\n\n        //   переберем массив и сoздадим новый с необходимыми свойствами\n        const newResults = results.map(({ title, id, poster_path }) => {\n          return { title, id, poster_path };\n        });\n\n        setpopularFilm([...newResults]);\n      } catch (error) {\n        setError('Что-то пошло не так');\n      } finally {\n        setIsLoading(false);\n      }\n    }\n    getPopularFilms();\n  }, []);\n\n  return (\n    <div className={css.wrapper}>\n      <div className={css.title}>Trending today</div>\n\n      {/* Если есть данные в массиве, то рендерим их */}\n      {popularFilm.length > 0 && <Films popularFilms={popularFilm} />}\n\n      {isLoading && <Loader />}\n\n      {error && <p>{error}</p>}\n    </div>\n  );\n};\n\nexport default Home;\n","import axios from 'axios';\n\nexport const themoviedbApi = async () => {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI2YjdiOWUxNGYzNTg3NjIwODVjNGE4YzkxYzc5ZjhlZSIsInN1YiI6IjY0NzM0NTgwNWNkMTZlMDExNmQ5NzRhNSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.j8VcB9r4iSid7CNi1G7L9GBX-4TzHHGev52Q2Kpm-aQ',\n    },\n  };\n\n  const response = await axios.get(\n    'https://api.themoviedb.org/3/trending/movie/day?language=en-US',\n    options\n  );\n\n  return response.data;\n};\n\n// запрос полной информации о фильме для страницы кинофильма.\n\nexport const themoviedbMoviesApiFilm = async movieId => {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI2YjdiOWUxNGYzNTg3NjIwODVjNGE4YzkxYzc5ZjhlZSIsInN1YiI6IjY0NzM0NTgwNWNkMTZlMDExNmQ5NzRhNSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.j8VcB9r4iSid7CNi1G7L9GBX-4TzHHGev52Q2Kpm-aQ',\n    },\n  };\n\n  const response = await axios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}?language=en-US`,\n    options\n  );\n\n  const { title, overview, poster_path, release_date, vote_average } =\n    response.data;\n\n  return { title, overview, poster_path, release_date, vote_average };\n};\n\n// поиск фильма введенного пользователем в инпут\nexport const themoviedbGetFilm = async query => {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI2YjdiOWUxNGYzNTg3NjIwODVjNGE4YzkxYzc5ZjhlZSIsInN1YiI6IjY0NzM0NTgwNWNkMTZlMDExNmQ5NzRhNSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.j8VcB9r4iSid7CNi1G7L9GBX-4TzHHGev52Q2Kpm-aQ',\n    },\n  };\n\n  const response = await axios.get(\n    `https://api.themoviedb.org/3/search/movie?query=${query}&include_adult=false&language=en-US&page=1`,\n    options\n  );\n  // const { results } = response.data;\n\n  return response.data;\n};\n\n// запрос на актерский состав Cast\nexport const themoviedbApiActorFilm = async movieId => {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI2YjdiOWUxNGYzNTg3NjIwODVjNGE4YzkxYzc5ZjhlZSIsInN1YiI6IjY0NzM0NTgwNWNkMTZlMDExNmQ5NzRhNSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.j8VcB9r4iSid7CNi1G7L9GBX-4TzHHGev52Q2Kpm-aQ',\n    },\n  };\n\n  const response = await axios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}/credits?language=en-US`,\n    options\n  );\n  const { cast } = response.data;\n\n  const data = cast.map(({ name, profile_path, character, id }) => {\n    return {\n      name,\n      profile_path,\n      character,\n      id,\n    };\n  });\n  return data;\n};\n\n// Запрос на информацию о фильме\n\nexport const themoviedbApiInfoFilm = async movieId => {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI2YjdiOWUxNGYzNTg3NjIwODVjNGE4YzkxYzc5ZjhlZSIsInN1YiI6IjY0NzM0NTgwNWNkMTZlMDExNmQ5NzRhNSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.j8VcB9r4iSid7CNi1G7L9GBX-4TzHHGev52Q2Kpm-aQ',\n    },\n  };\n\n  const response = await axios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}/reviews?language=en-US&page=1`,\n    options\n  );\n  const { results } = response.data;\n  const dataInfo = results.map(({ author, content, id }) => {\n    return {\n      author,\n      content,\n      id,\n    };\n  });\n\n  return dataInfo;\n};\n"],"names":["Films","popularFilms","location","useLocation","console","log","className","css","map","id","title","to","state","from","Loader","height","width","color","ariaLabel","wrapperStyle","wrapperClass","visible","useState","popularFilm","setpopularFilm","isLoading","setIsLoading","error","setError","useEffect","themoviedbApi","results","newResults","poster_path","getPopularFilms","length","options","method","headers","accept","Authorization","axios","response","data","themoviedbMoviesApiFilm","movieId","overview","release_date","vote_average","themoviedbGetFilm","query","themoviedbApiActorFilm","cast","name","profile_path","character","themoviedbApiInfoFilm","dataInfo","author","content"],"sourceRoot":""}