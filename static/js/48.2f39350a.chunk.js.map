{"version":3,"file":"static/js/48.2f39350a.chunk.js","mappings":"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","sources":["components/Loader/Loader.jsx","webpack://react-homework-template/./src/components/Button/Button.module.css?ce6f","components/Button/Button.jsx","webpack://react-homework-template/./src/components/Cart/CartFilm.module.css?0f50","components/Cart/CartFilm.jsx","webpack://react-homework-template/./src/pages/pages.module/MoviesDetalise.module.css?5cef","pages/MoviesDetalise.jsx","service/themoviedb.js"],"sourcesContent":["import { Circles } from 'react-loader-spinner';\n\nexport const Loader = () => {\n  return (\n    <Circles\n      height=\"80\"\n      width=\"80\"\n      color=\"#4fa94d\"\n      ariaLabel=\"circles-loading\"\n      wrapperStyle={{}}\n      wrapperClass=\"\"\n      visible={true}\n    />\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"Button_button__wiIYs\"};","import { Link } from 'react-router-dom';\nimport css from './Button.module.css';\n\nexport const Button = () => {\n  return (\n    <>\n      <Link to=\"path\" className={css.button}>\n        BACK\n      </Link>\n    </>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"wrap\":\"CartFilm_wrap__1gisq\",\"wrapdata\":\"CartFilm_wrapdata__oMCgb\",\"title_film\":\"CartFilm_title_film__erp6Q\",\"text_film\":\"CartFilm_text_film__TyQ6B\"};","import css from './CartFilm.module.css';\n\nexport const CartFilm = ({ film }) => {\n  const { title, overview, poster_path, release_date, vote_average } = film;\n\n  return (\n    <div className={css.wrap}>\n      <div>\n        <img src={`https:/image.tmdb.org/t/p/w500/${poster_path}`} alt=\"\" />\n      </div>\n      <div className={css.wrapdata}>\n        <h2 className={css.title_film}>{title}</h2>\n        <p className={css.text_film}>\n          User count {(vote_average * 10).toFixed()}%\n        </p>\n        <p className={css.text_film}>{release_date.slice(0, 4)}</p>\n        <h3 className={css.title_film}>overview</h3>\n        <p className={css.text_film}>{overview}</p>\n      </div>\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"link\":\"MoviesDetalise_link__eg5TB\",\"title_data\":\"MoviesDetalise_title_data__-TRuI\",\"link_data\":\"MoviesDetalise_link_data__XL8fT\"};","import { Button } from 'components/Button/Button';\nimport { CartFilm } from 'components/Cart/CartFilm';\nimport { Loader } from 'components/Loader/Loader';\nimport { Suspense, useEffect, useRef, useState } from 'react';\nimport { Link, Outlet, useLocation, useParams } from 'react-router-dom';\nimport { themoviedbMoviesApiFilm } from 'service/themoviedb';\nimport css from './pages.module/MoviesDetalise.module.css';\n\nconst MoviesDetalise = () => {\n  const { movieId } = useParams();\n  const location = useLocation();\n  // console.log(location);\n  const [filmData, setFilmData] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n  const BackLink = useRef(location.state?.from ?? '/');\n\n  useEffect(() => {\n    async function getPopularFilm() {\n      try {\n        setIsLoading(true);\n\n        const data = await themoviedbMoviesApiFilm(movieId);\n        //Если нет пришедших данных-выходим\n        if (!data) return;\n\n        setFilmData(data);\n      } catch (error) {\n        setError('Что-то пошло не так');\n      } finally {\n        setIsLoading(false);\n      }\n    }\n    getPopularFilm();\n  }, [movieId]);\n\n  return (\n    <>\n      <Button path={BackLink.current} />\n      {filmData && <CartFilm film={filmData} />}\n\n      <h2 className={css.title_data}>Additional information</h2>\n      <Link to=\"cast\" className={css.link_data}>\n        Cast\n      </Link>\n      <Link to=\"reviews\" className={css.link_data}>\n        Reviews\n      </Link>\n\n      <Suspense fallback={<div>Loading...</div>}>\n        <Outlet />\n      </Suspense>\n\n      {isLoading && <Loader />}\n      {error && <p>{error}</p>}\n    </>\n  );\n};\n\nexport default MoviesDetalise;\n","import axios from 'axios';\n\nexport const themoviedbApi = async () => {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI2YjdiOWUxNGYzNTg3NjIwODVjNGE4YzkxYzc5ZjhlZSIsInN1YiI6IjY0NzM0NTgwNWNkMTZlMDExNmQ5NzRhNSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.j8VcB9r4iSid7CNi1G7L9GBX-4TzHHGev52Q2Kpm-aQ',\n    },\n  };\n\n  const response = await axios.get(\n    'https://api.themoviedb.org/3/trending/movie/day?language=en-US',\n    options\n  );\n\n  return response.data;\n};\n\n// запрос полной информации о фильме для страницы кинофильма.\n\nexport const themoviedbMoviesApiFilm = async movieId => {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI2YjdiOWUxNGYzNTg3NjIwODVjNGE4YzkxYzc5ZjhlZSIsInN1YiI6IjY0NzM0NTgwNWNkMTZlMDExNmQ5NzRhNSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.j8VcB9r4iSid7CNi1G7L9GBX-4TzHHGev52Q2Kpm-aQ',\n    },\n  };\n\n  const response = await axios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}?language=en-US`,\n    options\n  );\n\n  const { title, overview, poster_path, release_date, vote_average } =\n    response.data;\n\n  return { title, overview, poster_path, release_date, vote_average };\n};\n\n// поиск фильма введенного пользователем в инпут\nexport const themoviedbGetFilm = async query => {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI2YjdiOWUxNGYzNTg3NjIwODVjNGE4YzkxYzc5ZjhlZSIsInN1YiI6IjY0NzM0NTgwNWNkMTZlMDExNmQ5NzRhNSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.j8VcB9r4iSid7CNi1G7L9GBX-4TzHHGev52Q2Kpm-aQ',\n    },\n  };\n\n  const response = await axios.get(\n    `https://api.themoviedb.org/3/search/movie?query=${query}&include_adult=false&language=en-US&page=1`,\n    options\n  );\n  // const { results } = response.data;\n\n  return response.data;\n};\n\n// запрос на актерский состав Cast\nexport const themoviedbApiActorFilm = async movieId => {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI2YjdiOWUxNGYzNTg3NjIwODVjNGE4YzkxYzc5ZjhlZSIsInN1YiI6IjY0NzM0NTgwNWNkMTZlMDExNmQ5NzRhNSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.j8VcB9r4iSid7CNi1G7L9GBX-4TzHHGev52Q2Kpm-aQ',\n    },\n  };\n\n  const response = await axios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}/credits?language=en-US`,\n    options\n  );\n  const { cast } = response.data;\n\n  const data = cast.map(({ name, profile_path, character, id }) => {\n    return {\n      name,\n      profile_path,\n      character,\n      id,\n    };\n  });\n  return data;\n};\n\n// Запрос на информацию о фильме\n\nexport const themoviedbApiInfoFilm = async movieId => {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI2YjdiOWUxNGYzNTg3NjIwODVjNGE4YzkxYzc5ZjhlZSIsInN1YiI6IjY0NzM0NTgwNWNkMTZlMDExNmQ5NzRhNSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.j8VcB9r4iSid7CNi1G7L9GBX-4TzHHGev52Q2Kpm-aQ',\n    },\n  };\n\n  const response = await axios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}/reviews?language=en-US&page=1`,\n    options\n  );\n  const { results } = response.data;\n  const dataInfo = results.map(({ author, content, id }) => {\n    return {\n      author,\n      content,\n      id,\n    };\n  });\n\n  return dataInfo;\n};\n"],"names":["Loader","height","width","color","ariaLabel","wrapperStyle","wrapperClass","visible","Button","to","className","css","CartFilm","film","title","overview","poster_path","release_date","vote_average","src","alt","toFixed","slice","movieId","useParams","location","useLocation","useState","filmData","setFilmData","isLoading","setIsLoading","error","setError","BackLink","useRef","state","from","useEffect","themoviedbMoviesApiFilm","data","getPopularFilm","path","current","Suspense","fallback","themoviedbApi","options","method","headers","accept","Authorization","axios","response","themoviedbGetFilm","query","themoviedbApiActorFilm","cast","map","name","profile_path","character","id","themoviedbApiInfoFilm","results","dataInfo","author","content"],"sourceRoot":""}